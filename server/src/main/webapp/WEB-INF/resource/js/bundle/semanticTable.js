!function(e){var t={};function n(a){if(t[a])return t[a].exports;var l=t[a]={i:a,l:!1,exports:{}};return e[a].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(a,l,function(t){return e[t]}.bind(null,l));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=34)}({0:function(e,t){e.exports=vendors},1:function(e,t,n){e.exports=n(0)(1)},2:function(e,t,n){e.exports=n(0)(130)},34:function(e,t,n){"use strict";var a=n(35),l=n(1),r=n(2);$(document).ready(function(){r.render(l.createElement(i,null),document.getElementById("container"))});var o=function(e){Ajax.get("/api/admin/scratch/episodes?status=0",null,{success:function(t){return e(t)}})},s=function(e,t){Ajax.post("/api/admin/scratch/episodes/pass="+e,null,{success:function(e){return t(e)}})},i=l.createClass({displayName:"TempList",getInitialState:function(){var e=this;return e.chooseMap=new Map,Ajax.get("/api/dics/01",null,{async:!1,success:function(t){e.hostMap=t}}),{data:new Array,openModal:!1,episode:null,scratch:null}},componentDidMount:function(){this.list()},list:function(){var e=this;o(function(t){return e.setState({data:t})})},handlePass:function(e){this.setState({openModal:!0,scratch:e})},handleRejct:function(e){var t=this;Ajax.post("/api/admin/scratch/episodes/reject="+e,null,{success:function(){t.list()}})},render:function(){var e=this;return l.createElement("div",null,l.createElement(c,{data:this.state.data,hostMap:this.hostMap,handlePass:this.handlePass,handleRejct:this.handleRejct}),l.createElement(u,{open:this.state.openModal,onClick:function(t,n){s(t,function(t){return e.list()}),e.setState({openModal:!1})},onClose:function(){return e.setState({openModal:!1})},episode:this.state.episode,scratch:this.state.scratch}))}}),c=l.createClass({displayName:"TempTable",shouldComponentUpdate:function(e,t){return console.log(e,this.props),e.data!=this.props.data},renderHeader:function(){return l.createElement(a.Table.Row,null,l.createElement(a.Table.HeaderCell,{singleLine:!0},"名字"),l.createElement(a.Table.HeaderCell,{width:5},"集"),l.createElement(a.Table.HeaderCell,null,"来源"),l.createElement(a.Table.HeaderCell,null,"地址"),l.createElement(a.Table.HeaderCell,{width:3},"操作"))},renderBodyRow:function(e){var t=this;return l.createElement(a.Table.Row,{key:e.id},l.createElement(a.Table.Cell,{singleLine:!0},e.anime.name),l.createElement(a.Table.Cell,null,e.number),l.createElement(a.Table.Cell,null,this.props.hostMap[e.hostId]),l.createElement(a.Table.Cell,null,l.createElement("a",{href:e.url,target:"_blank"},e.url)),l.createElement(a.Table.Cell,null,l.createElement("div",{className:"ui mini buttons"},l.createElement("button",{className:"ui teal button",onClick:function(){return t.props.handlePass(e)}},"通过"),l.createElement("button",{className:"ui red button",onClick:function(){return t.props.handleRejct(e.id)}},"不通过"))))},render:function(){var e=this,t=this.renderHeader();return l.createElement(a.Table,{celled:!0,padded:!0,tableData:this.props.data,renderBodyRow:function(t){return e.renderBodyRow(t)},headerRow:t})}}),u=l.createClass({displayName:"MessageModal",handleClick:function(){var e=this.refs.number.value,t=this.props.scratch.id;this.props.onClick(t,e)},render:function(){var e=this,t=this.props.scratch,n=null!=t?t.anime.name:"",r=null!=t?t.number:"",o=null!=t?t.url:"";return l.createElement(a.Modal,{size:"small",open:this.props.open,onClose:function(){return e.props.onClose()}},l.createElement(a.Modal.Header,null,n),l.createElement(a.Modal.Content,null,l.createElement("form",{className:"ui form"},l.createElement("div",{className:"field"},l.createElement("label",null,"集名"),l.createElement("input",{type:"text",value:r,ref:"number"})),l.createElement("div",{className:"field"},l.createElement("label",null,"地址"),l.createElement("input",{type:"text",value:o,disabled:"disabled"})))),l.createElement(a.Modal.Actions,null,l.createElement("button",{className:"ui teal button",onClick:this.handleClick},"确定"),l.createElement("button",{className:"ui basic button",onClick:this.props.onClose},"取消")))}})},35:function(e,t,n){e.exports=n(0)(770)}});