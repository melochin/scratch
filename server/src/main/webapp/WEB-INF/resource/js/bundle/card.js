!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=16)}([function(e,t){e.exports=vendors},,,,function(e,t,n){e.exports=n(0)(753)},function(e,t,n){"use strict";e.exports.list=function(e,t){Ajax.get("/api/brochures/"+e+"/cards",null,{success:function(e){t(e)}})},e.exports.listByWord=function(e,t){Ajax.get("/api/cards/"+e,null,{success:function(e){return t(e)}})},e.exports.listRemeber=function(e,t){Ajax.get("/api/brochures/"+e+"/cards/memory",null,{success:function(e){t(e)}})},e.exports.save=function(e,t,n){Ajax.post("/api/brochures/"+e+"/cards",t,{success:function(){n()}})},e.exports.saveList=function(e,t,n){Ajax.post("/api/brochures/"+e+"/cards/list",t,{success:function(){n()}})},e.exports.remove=function(e,t,n){Ajax.delete("/api/brochures/"+e+"/cards",t,{success:function(){n()}})},e.exports.swap=function(e,t,n,r){Ajax.put("/api/brochures/"+e+"/cards/swap/before/"+t+"/"+n,null,{success:function(){r()}})},e.exports.memoryRember=function(e,t,n){Ajax.put("/api/brochures/"+e+"/cards/memory/rember",t,{success:function(){return n()}})},e.exports.memoryForget=function(e,t,n){Ajax.put("/api/brochures/"+e+"/cards/memory/forget",t,{success:function(){return n()}})}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.remove=t.modify=t.list=t.save=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(11));t.save=function(e){Ajax.post("/api/brochures",e,{success:function(e){message("新增成功"),r.default.dispatch({type:"save",brochure:e})}})},t.list=function(){Ajax.get("/api/brochures",null,{success:function(e){console.log("dispatch action"),r.default.dispatch({type:"list",brochures:e})}})},t.modify=function(e){Ajax.put("/api/brochures",e,{success:function(e){message("修改成功"),r.default.dispatch({type:"modify",brochure:e})}})},t.remove=function(e){Ajax.delete("/api/brochures/"+e,null,{success:function(e){console.log(e),null==e||""==e?message("删除失败"):(message("删除成功"),r.default.dispatch({type:"delete",brochure:e}))}})}},function(e,t,n){"use strict";var r=new(n(29))({html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,highlight:function(){return""}});e.exports.markdown=r},function(e,t,n){e.exports=n(0)(757)},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(20);t.default=new r.Dispatcher},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(24),i=function(e){return e&&e.__esModule?e:{default:e}}(n(11));var s=new(function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.brochures=new Array,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.EventEmitter),r(t,[{key:"set",value:function(e){console.log("store change"),this.brochures=e,this.emit("change")}},{key:"list",value:function(){return this.brochures}},{key:"handle",value:function(e){switch(console.log("handle dispatch"),e.type){case"list":this.brochures=e.brochures,this.emit("change");break;case"save":this.brochures.push(e.brochure),this.emit("change");break;case"modify":this.brochures=this.brochures.map(function(t){return t.id==e.brochure.id?e.brochure:t}),this.emit("change");break;case"delete":this.brochures=this.brochures.filter(function(t){return t.id!=e.brochure.id}),this.emit("change")}}}]),t}());i.default.register(s.handle.bind(s)),t.default=s},function(e,t,n){"use strict";var r=n(30),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5));var i=React.createClass({displayName:"CardList",getInitialState:function(){return{contents:this.props.contents}},componentDidMount:function(){var e=this,t=this.props.params.word;a.listByWord(t,function(t){return e.setState({contents:t})})},componentWillReceiveProps:function(e){this.setState({contents:e.contents})},render:function(){var e=this,t=null==this.state.contents?null:this.state.contents.map(function(t,n){return React.createElement(r.Card,{card:t,no:n,key:t.id,onDelete:e.props.onDelete,onSwap:e.props.onSwap})});return React.createElement("table",{className:"ui selectable fixed table"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{className:"two wide"},"序号"),React.createElement("th",{className:"five wide"},"正面"),React.createElement("th",{className:"five wide"},"反面"),React.createElement("th",{className:"two wide"},"记忆信息"),React.createElement("th",{className:"two wide"}))),React.createElement("tbody",null,t))}});e.exports.CardList=i},,,function(e,t,n){"use strict";var r=n(17),a=n(4),i=n(18),s=n(25),c=n(13),o=n(32);$(document).ready(function(){ReactDOM.render(React.createElement(a.Router,{history:a.hashHistory},React.createElement(a.Route,{path:"/",component:r.Layout},React.createElement(a.IndexRoute,{component:i.Brochures}," "),React.createElement(a.Route,{path:"brochures/:brochureId",component:s.CardLayout}),React.createElement(a.Route,{path:"search/:word",component:c.CardList})),React.createElement(a.Route,{path:"/print/:brochureId",component:o.Print})),document.getElementById("card"))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Layout=void 0;var r=n(4),a=React.createClass({displayName:"Menu",render:function(){return React.createElement("div",{className:"ui container",style:{padding:"0px 20px"}},React.createElement("div",{className:"ui text menu"},React.createElement(r.Link,{className:"active item",to:"/"},"首页")))}}),i=React.createClass({displayName:"Layout",render:function(){return React.createElement("div",null,React.createElement(a,null),React.createElement("div",{id:"container",className:"ui container"},this.props.children))}});t.Layout=i},function(e,t,n){"use strict";var r=n(19),a=n(23),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7)),s=function(e){return e&&e.__esModule?e:{default:e}}(n(12));var c=React.createClass({displayName:"Brochures",getInitialState:function(){return{brochures:new Array,searchOptions:new Array}},componentWillMount:function(){var e=this;s.default.on("change",function(){console.log("re-render"),e.setState({brochures:s.default.list()})})},componentDidMount:function(){i.list()},render:function(){var e=this.state.brochures.map(function(e){return React.createElement(r.Brochure,{key:e.id,brochure:e})});return React.createElement("div",{className:"ui container",id:"card-box"},React.createElement("div",{className:"ui grid"},React.createElement(a.BrochureModal,null)),React.createElement("div",{className:"ui five stackable cards"},e))}});e.exports.Brochures=c},function(e,t,n){"use strict";var r=n(4),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7));var i=React.createClass({displayName:"Brochure",getInitialState:function(){return{modify:!1}},componentWillReceiveProps:function(e){this.setState({modify:!1})},renderDefault:function(e){var t=null==e.description?"无":e.description;return React.createElement("div",{className:"content"},React.createElement("div",{className:"center aligned header"},React.createElement("h1",null,e.name)),React.createElement("div",{className:"center aligned description"},React.createElement("p",null,t)),React.createElement("div",{className:"extra content"},React.createElement("div",{className:"center aligned"},React.createElement(r.Link,{className:"ui teal button",to:"/brochures/"+e.id,state:{brochure:e}},"开始学习"))))},renderModify:function(e){var t=this;return React.createElement("div",{className:"content ui form"},React.createElement("div",{className:"center aligned header"},React.createElement("input",{ref:"name"})),React.createElement("div",{className:"center aligned description"},React.createElement("input",{ref:"description"})),React.createElement("div",{className:"extra content"},React.createElement("div",{className:"center aligned"},React.createElement("button",{className:"ui primary mini button",onClick:function(){var n=e;n.name=t.refs.name.value,n.description=t.refs.description.value,a.modify(n)}},"保存"),React.createElement("button",{className:"ui mini button",onClick:function(){return t.setState({modify:!1})}},"取消"))))},render:function(){var e=this,t=this.props.brochure,n=this.state.modify?this.renderModify(t):this.renderDefault(t);return React.createElement("div",{className:"ui raised card ",key:t.id},React.createElement("div",{className:"right aligned meta"},React.createElement("i",{className:"large edit icon",onClick:function(){return e.setState({modify:!e.state.modify})}}),React.createElement("i",{className:"large trash alternate icon",onClick:function(){return a.remove(t.id)}})),n)}});e.exports.Brochure=i},function(e,t,n){e.exports.Dispatcher=n(21)},function(e,t,n){"use strict";t.__esModule=!0;var r=n(22),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return e.prototype.register=function(e){var t="ID_"+this._lastID++;return this._callbacks[t]=e,t},e.prototype.unregister=function(e){this._callbacks[e]||r(!1),delete this._callbacks[e]},e.prototype.waitFor=function(e){this._isDispatching||r(!1);for(var t=0;t<e.length;t++){var n=e[t];this._isPending[n]?this._isHandled[n]||r(!1):(this._callbacks[n]||r(!1),this._invokeCallback(n))}},e.prototype.dispatch=function(e){this._isDispatching&&r(!1),this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},e.prototype.isDispatching=function(){return this._isDispatching},e.prototype._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},e.prototype._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},e.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}();e.exports=a},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,a,i,s,c,o){if(r(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,a,i,s,c,o],d=0;(l=new Error(t.replace(/%s/g,function(){return u[d++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7)),a=function(e){return e&&e.__esModule?e:{default:e}}(n(12));var i=React.createClass({displayName:"BrochureModal",handleSubmit:function(){var e=new Object;e.name=this.refs.name.value,e.description=this.refs.description.value,r.save(e)},componentWillMount:function(){var e=this;a.default.on("change",function(){$(e.refs.modal).modal("hide"),e.refs.name.value="",e.refs.description.value=""})},renderModal:function(){var e=this;return React.createElement("div",{className:"ui small modal",ref:"modal"},React.createElement("div",{id:"brochure-form",className:"ui form"},React.createElement("div",{className:"field"},React.createElement("label",null,"名字"),React.createElement("input",{ref:"name"})),React.createElement("div",{className:"field"},React.createElement("label",null,"描述"),React.createElement("input",{ref:"description"})),React.createElement("button",{className:"ui primary button",onClick:this.handleSubmit},"提交"),React.createElement("button",{className:"ui button",onClick:function(){return $(e.refs.modal).modal("hide")}},"取消")))},render:function(){var e=this;return React.createElement("div",{className:"ui six wide tablet two wide computer column"},React.createElement("button",{className:"ui primary button",onClick:function(){return $(e.refs.modal).modal("show")}},"新增"),this.renderModal())}});e.exports.BrochureModal=i},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function a(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,s,c,o,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(i(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:c=Array.prototype.slice.call(arguments,1),n.apply(this,c)}else if(a(n))for(c=Array.prototype.slice.call(arguments,1),s=(l=n.slice()).length,o=0;o<s;o++)l[o].apply(this,c);return!0},n.prototype.addListener=function(e,t){var s;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(s=i(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[e].length>s&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function a(){this.removeListener(e,a),n||(n=!0,t.apply(this,arguments))}return a.listener=t,this.on(e,a),this},n.prototype.removeListener=function(e,t){var n,i,s,c;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(s=(n=this._events[e]).length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(c=s;c-- >0;)if(n[c]===t||n[c].listener&&n[c].listener===t){i=c;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){"use strict";var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5)),a=n(26),i=n(13),s=n(4);var c=n(9),o=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}).toUpperCase()},l=React.createClass({displayName:"Form",getIinitialDatas:function(){var e=new Object;return e.seqId=o(),new Array(e)},getInitialState:function(){return{datas:this.getIinitialDatas()}},handleDelete:function(e,t){"Delete"==e.nativeEvent.code&&(this.state.datas.splice(t,1),this.setState({datas:this.state.datas}))},handleTab:function(e,t){if("Tab"==e.nativeEvent.code){var n=this.state.datas,r=new Object;r.seqId=o(),n.push(r),this.setState({datas:n})}},handleModify:function(e,t,n){t[n]=e.target.value,console.log(this.state.datas),this.setState({datas:this.state.datas})},handleSaveClick:function(){var e=this.state.datas.filter(function(e){return null!=e.key&&null!=e.value});e=e.map(function(e){var t=new Object;return t.key=e.key,t.value=e.value,t}),this.props.onSave(e),this.setState({datas:this.getIinitialDatas()})},handleCancelClick:function(){this.setState({datas:this.getIinitialDatas()}),this.props.onCancel()},renderInput:function(){var e=this;return this.state.datas.map(function(t,n){return React.createElement("div",{className:"fields"},React.createElement("div",{className:"seven wide field"},React.createElement("textarea",{rows:"3",ref:"key",style:{backgroundColor:"rgb(255, 255, 249)"},key:t.seqId,value:t.key,onKeyDown:function(t){return e.handleDelete(t,n)},onChange:function(n){return e.handleModify(n,t,"key")}})),React.createElement("div",{className:"seven wide field"},React.createElement("textarea",{rows:"3",ref:"key",style:{backgroundColor:"rgb(255, 255, 249)"},key:t.seqId,value:t.value,onKeyDown:function(t){e.handleDelete(t,n),n==e.state.datas.length-1&&e.handleTab(t,n)},onChange:function(n){return e.handleModify(n,t,"value")}})))})},render:function(){return React.createElement("div",{className:"ui form",style:{padding:"14px",border:"1px solid #ced6d5"}},this.renderInput(),React.createElement("button",{className:"ui small teal button",onClick:this.handleSaveClick},"提交"),React.createElement("button",{className:"ui small  button",onClick:this.handleCancelClick},"取消"))}}),u=React.createClass({displayName:"Button",getInitialState:function(){return{isInsert:!1}},onInsertClick:function(){this.setState({isInsert:!0})},onConfirmClick:function(e){this.props.insertClick(e),this.setState({isInsert:!1})},onCancelClick:function(){this.setState({isInsert:!1})},render:function(){return React.createElement("div",null,React.createElement("div",{className:"blue ui buttons"},React.createElement("button",{className:"ui small primary button",style:{margin:"10px 0 10px 0"},onClick:this.onInsertClick},"新增"),React.createElement(s.Link,{to:"/print/"+this.props.brochureId,target:"_blank"},React.createElement("a",{className:"ui small primary button",style:{margin:"10px 0 10px 0"}},"打印预览"))),React.createElement(c,{transitionName:"example",transitionEnterTimeout:500,transitionLeaveTimeout:300},this.state.isInsert&&React.createElement(l,{onSave:this.onConfirmClick,onCancel:this.onCancelClick})))}}),d=React.createClass({displayName:"CardLayout",getDefaultProps:function(){return{contents:new Array}},getInitialState:function(){return{contents:this.props.contents,memoryCards:new Array,mode:0}},componentDidMount:function(){console.log(this.props.location.state.brochure),this.listManageContents()},listMemoryContents:function(){var e=this;r.listRemeber(this.props.location.state.brochure.id,function(t){return e.setState({memoryCards:t})})},listManageContents:function(){var e=this;r.list(this.props.location.state.brochure.id,function(t){return e.setState({contents:t})})},handleSave:function(e,t){r.save(this.props.location.state.brochure.id,e,this.listManageContents)},handleSaveList:function(e,t){r.saveList(this.props.location.state.brochure.id,e,this.listManageContents)},handleDelete:function(e,t){r.remove(this.props.location.state.brochure.id,e,this.listManageContents)},handleSwap:function(e,t){r.swap(this.props.location.state.brochure.id,e,t,this.listManageContents)},handleMode:function(e){this.state.mode!=e&&this.setState({mode:e})},renderMenu:function(){var e=this;return React.createElement("div",{className:"ui secondary pointing menu"},React.createElement("a",{className:0==this.state.mode?"active item":"item",onClick:function(){return e.handleMode(0)}},"卡片记忆"),React.createElement("a",{className:2==this.state.mode?"active item":"item",onClick:function(){return e.handleMode(2)}},"卡片管理"))},renderManage:function(){var e=this;return React.createElement("div",null,React.createElement("div",null,React.createElement(u,{memoryclick:function(){return e.setState({mode:1})},insertClick:this.handleSaveList,onChange:function(t){return e.setState({contents:t})},brochureId:this.props.location.state.brochure.id})),React.createElement("div",null,React.createElement("div",{id:"card-list"},React.createElement("div",{className:"ui cotainer"},React.createElement(i.CardList,{contents:this.state.contents,onDelete:this.handleDelete,onSwap:this.handleSwap,onChange:function(t){return e.setState({contents:t})}})))))},renderMemory:function(){var e=this;return React.createElement("div",null,React.createElement("button",{className:"ui primary button",onClick:function(){return e.setState({mode:0})}},"退出"),React.createElement(a.Cards,{contents:this.state.memoryCards,brochure:this.props.location.state.brochure,onComplete:function(){return e.setState({mode:0})}}))},renderMemoryHome:function(){var e=this;return React.createElement("div",{className:"ui fluid card"},React.createElement("div",{className:"center aligned content"},React.createElement("h1",null,"⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅  "+this.props.location.state.brochure.name+"  ⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅")),React.createElement("div",{className:"center aligned extra content"},React.createElement("div",{className:"ui grid"},React.createElement("div",{className:"ui three wide computer only column"}),React.createElement("div",{className:"ui sixteen wide tablet ten wide computer column "},React.createElement("button",{className:"ui large teal fluid button",onClick:function(){e.listMemoryContents(),e.setState({mode:1})}},"开始学习")),React.createElement("div",{className:"ui three wide computer only column"}))))},render:function(){var e=null;switch(this.state.mode){case 0:e=this.renderMemoryHome();break;case 1:e=this.renderMemory();break;case 2:e=this.renderManage()}return React.createElement("div",{id:"card-box",className:"ui container"},this.renderMenu(),React.createElement("div",{id:"card-content",className:"ui segment"},e))}});e.exports.CardLayout=d},function(e,t,n){"use strict";var r=n(27),a=n(28),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5));var s=React.createClass({displayName:"Cards",getInitialState:function(){return{current:0}},handleClick:function(){this.state.current<this.props.contents.length-1&&this.setState({current:this.state.current+1})},setCurrent:function(e){e<0||e>=this.props.contents.length||this.setState({current:e})},renderCard:function(e){var t=this;if(e>=this.props.contents.length||e<0)return null;var n=this.props.contents[e],r=!1,s=!1;return 0==e&&(r=!0),e==this.props.contents.length-1&&(s=!0),React.createElement(a.Card,{content:n,isFirst:r,isLast:s,onRember:function(){return i.memoryRember(t.props.brochure.id,n,function(){return t.setCurrent(t.state.current+1)})},onForget:function(){return i.memoryForget(t.props.brochure.id,n,function(){return t.setCurrent(t.state.current+1)})},onComplete:this.props.onComplete})},render:function(){return React.createElement("div",{className:"ui container",style:{margin:"2rem"}},this.renderCard(this.state.current),React.createElement(r.Progress,{current:this.state.current,total:this.props.contents.length}))}});e.exports.Cards=s},function(e,t,n){"use strict";var r=React.createClass({displayName:"Progress",componentDidMount:function(){$(this.refs.progress).progress()},componentDidUpdate:function(e,t){$(this.refs.progress).progress("increment")},render:function(){return React.createElement("div",{ref:"progress",className:"ui success progress","data-value":this.props.current+1,"data-total":this.props.total},React.createElement("div",{className:"bar"},React.createElement("div",{className:"progress"})))}});e.exports.Progress=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8).markdown,a=React.createClass({displayName:"Card",getInitialState:function(){return{front:!0}},componentDidMount:function(){var e=this;document.addEventListener("keydown",function(t){"ArrowDown"==t.code&&$(e.refs.btn).find("#down").click(),"ArrowLeft"==t.code&&$(e.refs.btn).find("#left").click(),"ArrowRight"==t.code&&$(e.refs.btn).find("#right").click()})},componentWillReceiveProps:function(){this.setState({front:!0})},getContent:function(){return this.state.front?this.props.content.key:this.props.content.value},handleClick:function(){this.setState({front:!this.state.front})},renderButton:function(){var e=this;return this.state.front?React.createElement("button",{id:"down",className:"ui fluid button",onClick:this.handleClick},"翻转卡片"):React.createElement("div",{className:"ui buttons"},React.createElement("button",{id:"left",className:"ui fluid teal button",onClick:function(){e.props.onRember(),e.props.isLast&&e.props.onComplete()}},"正确"),React.createElement("button",{id:"right",className:"ui fluid red button",onClick:function(){e.props.onForget(),e.props.isLast&&e.props.onComplete()}},"错误"))},render:function(){var e=this.renderButton();return React.createElement("div",{className:"ui centered card",style:{width:"100%"}},React.createElement("div",{className:"description center aligned twelve wide column",style:{fontSize:"2rem",padding:"6rem 0rem"},onClick:this.handleClick},React.createElement("div",{dangerouslySetInnerHTML:{__html:r.render(this.getContent())}})),React.createElement("div",{className:"extra content"},React.createElement("div",{className:"ui grid"},React.createElement("div",{className:"ui five wide computer only column"}),React.createElement("div",{className:"ui sixteen wide tablet six wide computer column ",ref:"btn"},e),React.createElement("div",{className:"ui five wide computer only column"}))))}});t.Card=a},function(e,t,n){e.exports=n(0)(625)},function(e,t,n){"use strict";var r=n(31),a=n(8).markdown,i=React.createClass({displayName:"Card",componentDidMount:function(){var e=this;new r(this.refs.key,{text:function(t){return e.props.card.key}}),new r(this.refs.value,{text:function(t){return e.props.card.value}})},handleDrop:function(e){var t=e.dataTransfer.getData("Text");null!=t&&this.props.onSwap(t,this.props.card.id)},render:function(){var e=this,t={background:"bbeaf3"},n={background:""},r=this.props.card,i=r.remeber+r.forget,s=0==i?0:100*(r.remeber/i).toFixed(2);return React.createElement("tr",{className:"item",ref:"card",key:this.props.card.id,draggable:!0,onDragOver:function(e){return e.preventDefault()},onDragStart:function(t){return t.dataTransfer.setData("Text",e.props.card.id)},onDragEnter:function(n){return e.refs.card.style=t},onDragLeave:function(t){return e.refs.card.style=n},onDrop:function(t){e.handleDrop(t),e.refs.card.style=n}},React.createElement("td",{className:"disabled"},this.props.no),React.createElement("td",null,React.createElement("span",{dangerouslySetInnerHTML:{__html:a.render(r.key)},ref:"key"})),React.createElement("td",null,React.createElement("span",{dangerouslySetInnerHTML:{__html:a.render(r.value)},ref:"value"})),React.createElement("td",null,React.createElement("span",null,s,"% (",i,") ")),React.createElement("td",null,React.createElement("button",{className:"ui right floated icon button",style:{background:"white"},onClick:function(){return e.props.onDelete(e.props.card,null)}},React.createElement("i",{className:"trash outline icon"}))))}});e.exports.Card=i},function(e,t,n){e.exports=n(0)(769)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Print=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5));var a=n(8).markdown,i=React.createClass({displayName:"Print",getInitialState:function(){return{cards:new Array}},componentDidMount:function(){var e=this,t=this.props.params.brochureId;r.list(t,function(t){return e.setState({cards:t})})},render:function(){var e=this.state.cards.map(function(e,t){return React.createElement("div",{key:t,className:"ui four wide column",style:{marginBottom:"20px"}},React.createElement("p",{dangerouslySetInnerHTML:{__html:a.render(e.key)}}))}),t=this.state.cards.map(function(e,t){return React.createElement("span",{key:t,style:{marginRight:"32px"},dangerouslySetInnerHTML:{__html:a.render(e.value)}})});return React.createElement("div",{className:"ui container",style:{fontSize:"16px"}},React.createElement("div",{className:"ui grid",style:{margin:"20px 10px 20px 10px"}},e),React.createElement("div",{style:{margin:"20px 24px 20px 24px"}},React.createElement("div",{style:{marginBottom:"16px"}},React.createElement("label",null,"答案:")),t))}});t.Print=i}]);